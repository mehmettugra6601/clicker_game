<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uzayda Gezegen Toplama Oyunu</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/gsap.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460);
            color: #e6e6e6;
            min-height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .game-container {
            width: 100%;
            max-width: 1200px;
            height: 90vh;
            display: grid;
            grid-template-columns: 1fr 300px;
            grid-template-rows: 80px 1fr;
            grid-gap: 20px;
            padding: 20px;
        }
        
        header {
            grid-column: 1 / -1;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.6);
            border-radius: 15px;
            padding: 15px 25px;
            border: 1px solid #4fc3dc;
            box-shadow: 0 0 20px rgba(79, 195, 220, 0.3);
        }
        
        .stats {
            display: flex;
            gap: 25px;
        }
        
        .stat-box {
            background: rgba(0, 30, 60, 0.7);
            padding: 10px 20px;
            border-radius: 10px;
            border: 1px solid #00a8ff;
            min-width: 120px;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #00a8ff;
            margin-top: 5px;
        }
        
        #click-area {
            grid-row: 2;
            grid-column: 1;
            background: rgba(0, 10, 30, 0.7);
            border-radius: 15px;
            overflow: hidden;
            border: 1px solid #9d4edd;
            box-shadow: 0 0 20px rgba(157, 78, 221, 0.3);
            position: relative;
        }
        
        .controls {
            grid-row: 2;
            grid-column: 2;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .shop {
            background: rgba(0, 0, 0, 0.6);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid #f9c74f;
            box-shadow: 0 0 20px rgba(249, 199, 79, 0.3);
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .shop-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f9c74f;
        }
        
        .shop-title {
            font-size: 24px;
            color: #f9c74f;
        }
        
        .upgrade {
            background: rgba(0, 30, 60, 0.7);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid #4361ee;
            transition: transform 0.3s;
        }
        
        .upgrade:hover {
            transform: translateY(-5px);
            border-color: #00a8ff;
        }
        
        .upgrade-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .upgrade-name {
            font-size: 18px;
            font-weight: bold;
            color: #4cc9f0;
        }
        
        .upgrade-price {
            font-weight: bold;
            color: #f9c74f;
        }
        
        .upgrade-desc {
            margin-bottom: 15px;
            color: #b0b0b0;
            font-size: 14px;
        }
        
        .btn {
            background: linear-gradient(45deg, #4361ee, #3a0ca3);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            width: 100%;
        }
        
        .btn:hover {
            background: linear-gradient(45deg, #4895ef, #4361ee);
            transform: scale(1.03);
        }
        
        .btn:active {
            transform: scale(0.98);
        }
        
        .btn-shop {
            background: linear-gradient(45deg, #f9c74f, #f8961e);
            color: #2d00f7;
            font-weight: bold;
            font-size: 18px;
            padding: 15px;
        }
        
        #message-popup {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            padding: 15px 30px;
            border-radius: 50px;
            border: 2px solid;
            z-index: 100;
            transition: all 0.5s;
            opacity: 0;
            pointer-events: none;
        }
        
        #message-popup.show {
            opacity: 1;
            top: 30px;
        }
        
        #welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, #0f3460, #16213e, #1a1a2e);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            text-align: center;
            padding: 20px;
        }
        
        .welcome-content {
            max-width: 800px;
            background: rgba(0, 0, 0, 0.7);
            padding: 40px;
            border-radius: 20px;
            border: 3px solid #00a8ff;
            box-shadow: 0 0 50px rgba(0, 168, 255, 0.5);
        }
        
        .game-title {
            font-size: 48px;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #4cc9f0, #4361ee, #9d4edd);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 20px rgba(77, 201, 240, 0.5);
        }
        
        .instructions {
            font-size: 20px;
            line-height: 1.6;
            margin-bottom: 30px;
            color: #e0e0e0;
        }
        
        .start-btn {
            background: linear-gradient(45deg, #f72585, #b5179e);
            color: white;
            border: none;
            padding: 15px 50px;
            font-size: 24px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            margin-top: 20px;
            border: 2px solid #ff7096;
            box-shadow: 0 0 30px rgba(247, 37, 133, 0.5);
        }
        
        .start-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 40px rgba(247, 37, 133, 0.7);
        }
        
        .key-hint {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid #4cc9f0;
            border-radius: 5px;
            padding: 2px 10px;
            margin: 0 5px;
            font-family: monospace;
        }
        
        .credit {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.5);
            padding: 10px 20px;
            border-radius: 50px;
            font-size: 14px;
            color: #9d4edd;
            border: 1px solid #9d4edd;
        }
        
        @media (max-width: 900px) {
            .game-container {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto 1fr;
            }
            
            #click-area {
                grid-row: 2;
                grid-column: 1;
                height: 50vh;
            }
            
            .controls {
                grid-row: 3;
                grid-column: 1;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <header>
            <h1>ðŸŒŸ Uzayda Gezegen Toplama Oyunu</h1>
            <div class="stats">
                <div class="stat-box">
                    <div>Puan</div>
                    <div id="score" class="stat-value">0</div>
                </div>
                <div class="stat-box">
                    <div>TÄ±klama GÃ¼cÃ¼</div>
                    <div id="click-power" class="stat-value">1</div>
                </div>
                <div class="stat-box">
                    <div>Otomatik ToplayÄ±cÄ±</div>
                    <div id="auto-click" class="stat-value">0</div>
                </div>
            </div>
        </header>
        
        <div id="click-area"></div>
        
        <div class="controls">
            <button id="open-shop" class="btn btn-shop">MaÄŸazayÄ± AÃ§ (M)</button>
            
            <div id="shop" class="shop hidden">
                <div class="shop-header">
                    <div class="shop-title">ðŸš€ Uzay MaÄŸazasÄ±</div>
                    <button id="close-shop" class="btn">Kapat</button>
                </div>
                
                <div class="upgrade">
                    <div class="upgrade-header">
                        <div class="upgrade-name">TÄ±klama GÃ¼cÃ¼</div>
                        <div class="upgrade-price">10 Puan</div>
                    </div>
                    <div class="upgrade-desc">Her tÄ±klamada topladÄ±ÄŸÄ±n puanÄ± arttÄ±rÄ±r</div>
                    <button class="btn" onclick="buyUpgrade('click', 10)">SatÄ±n Al</button>
                </div>
                
                <div class="upgrade">
                    <div class="upgrade-header">
                        <div class="upgrade-name">Otomatik ToplayÄ±cÄ±</div>
                        <div class="upgrade-price">25 Puan</div>
                    </div>
                    <div class="upgrade-desc">Saniyede 1 puan otomatik olarak toplar</div>
                    <button class="btn" onclick="buyUpgrade('auto', 25)">SatÄ±n Al</button>
                </div>
                
                <div class="upgrade">
                    <div class="upgrade-header">
                        <div class="upgrade-name">Yeni Gezegen</div>
                        <div class="upgrade-price">50 Puan</div>
                    </div>
                    <div class="upgrade-desc">Daha deÄŸerli yeni bir gezegen aÃ§</div>
                    <button class="btn" onclick="buyUpgrade('planet', 50)">SatÄ±n Al</button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="message-popup">
        <div id="message-text"></div>
    </div>
    
    <div id="welcome-screen">
        <div class="welcome-content">
            <h1 class="game-title">ðŸŒŒ Uzayda Gezegen Toplama Oyunu</h1>
            <div class="instructions">
                <p>Gezegenlere tÄ±klayarak puan topla ve maÄŸazadan yÃ¼kseltmeler satÄ±n al!</p>
                <p>ðŸ”¹ Her gezegenin farklÄ± bir deÄŸeri var</p>
                <p>ðŸ”¹ TÄ±klama gÃ¼cÃ¼nÃ¼ arttÄ±rarak daha fazla puan topla</p>
                <p>ðŸ”¹ Otomatik toplayÄ±cÄ±lar ile pasif gelir elde et</p>
                <p>ðŸ”¹ Yeni gezegenler aÃ§arak oyunu ilerlet</p>
                <p>ðŸ”¹ MaÄŸazayÄ± aÃ§mak iÃ§in <span class="key-hint">M</span> tuÅŸuna bas</p>
            </div>
            <button class="start-btn">OYUNA BAÅžLA</button>
        </div>
    </div>
    
    <div class="credit">Oyunu yapan: MTÃ‡ kodlayan gardaÅŸÄ±m</div>
    
    <audio id="click-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="buy-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-unlock-game-notification-253.mp3" type="audio/mpeg">
    </audio>
    
    <script>
        // Oyun deÄŸiÅŸkenleri
        let score = 0;
        let clickPower = 1;
        let autoClicker = 0;
        let unlockedPlanets = 1;
        let gameStarted = false;
        const planets = [];
        const planetData = [
            { name: "MERKÃœR", size: 0.4, color: 0x8B8B8B, price: 10 },
            { name: "VENÃœS", size: 0.6, color: 0xE6C229, price: 25 },
            { name: "DÃœNYA", size: 0.6, color: 0x1E90FF, price: 50 },
            { name: "MARS", size: 0.5, color: 0xC1440E, price: 100 },
            { name: "JÃœPÄ°TER", size: 1.0, color: 0xD39C61, price: 200 },
            { name: "SATÃœRN", size: 0.9, color: 0xE4D191, price: 400, hasRings: true },
            { name: "URANÃœS", size: 0.7, color: 0xC1E3E3, price: 800 },
            { name: "NEPTÃœN", size: 0.7, color: 0x5B5DDF, price: 1600 },
            { name: "PLÃœTON", size: 0.3, color: 0xE6E6FA, price: 3200 }
        ];

        // DOM elementleri
        const scoreElement = document.getElementById('score');
        const clickPowerElement = document.getElementById('click-power');
        const autoClickElement = document.getElementById('auto-click');
        const shopElement = document.getElementById('shop');
        const openShopBtn = document.getElementById('open-shop');
        const closeShopBtn = document.getElementById('close-shop');
        const messagePopup = document.getElementById('message-popup');
        const messageText = document.getElementById('message-text');
        const clickSound = document.getElementById('click-sound');
        const buySound = document.getElementById('buy-sound');
        const welcomeScreen = document.getElementById('welcome-screen');

        // Three.js sahnesi
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x000033);

        // Kamera ayarlarÄ±
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 15;

        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.shadowMap.enabled = true;
        document.getElementById('click-area').appendChild(renderer.domElement);

        // IÅŸÄ±klandÄ±rma
        const ambientLight = new THREE.AmbientLight(0x404040);
        scene.add(ambientLight);

        const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
        directionalLight.position.set(5, 10, 7);
        directionalLight.castShadow = true;
        scene.add(directionalLight);

        // YÄ±ldÄ±zlar
        function createStars() {
            const starsGeometry = new THREE.BufferGeometry();
            const starsMaterial = new THREE.PointsMaterial({
                color: 0xFFFFFF,
                size: 0.2,
                transparent: true
            });

            const starsVertices = [];
            for (let i = 0; i < 10000; i++) {
                const x = THREE.MathUtils.randFloatSpread(2000);
                const y = THREE.MathUtils.randFloatSpread(2000);
                const z = THREE.MathUtils.randFloatSpread(2000);
                starsVertices.push(x, y, z);
            }

            starsGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starsVertices, 3));
            const starField = new THREE.Points(starsGeometry, starsMaterial);
            scene.add(starField);
        }

        // Gezegen oluÅŸturma fonksiyonu
        function createPlanet(planetInfo) {
            const geometry = new THREE.SphereGeometry(planetInfo.size, 32, 32);
            const material = new THREE.MeshPhongMaterial({ 
                color: planetInfo.color,
                shininess: 100,
                emissive: planetInfo.color,
                emissiveIntensity: 0.2
            });
            
            const planet = new THREE.Mesh(geometry, material);
            planet.castShadow = true;
            planet.position.set(0, 0, 0);
            planet.userData = { 
                name: planetInfo.name,
                value: planetInfo.price / 10,
                originalSize: planetInfo.size,
                currentSize: planetInfo.size
            };
            
            if (planetInfo.hasRings) {
                const ringGeometry = new THREE.RingGeometry(planetInfo.size * 1.5, planetInfo.size * 2, 32);
                const ringMaterial = new THREE.MeshPhongMaterial({
                    color: 0xE4D191,
                    side: THREE.DoubleSide,
                    transparent: true,
                    opacity: 0.7
                });
                const ring = new THREE.Mesh(ringGeometry, ringMaterial);
                ring.rotation.x = Math.PI / 3;
                planet.add(ring);
            }
            
            scene.add(planet);
            planets.push(planet);
            return planet;
        }

        // BaÅŸlangÄ±Ã§ gezegenlerini oluÅŸtur
        function initPlanets() {
            for (let i = 0; i < unlockedPlanets; i++) {
                if (i < planetData.length) {
                    createPlanet(planetData[i]);
                }
            }
        }

        // Puan gÃ¼ncelleme
        function updateScore() {
            scoreElement.textContent = score;
            clickPowerElement.textContent = clickPower;
            autoClickElement.textContent = autoClicker;
        }

        // TÄ±klama efekti
        function animateClick(planet) {
            // TÄ±klama animasyonu
            gsap.to(planet.scale, {
                x: planet.userData.currentSize * 1.2,
                y: planet.userData.currentSize * 1.2,
                z: planet.userData.currentSize * 1.2,
                duration: 0.1,
                yoyo: true,
                repeat: 1
            });
            
            // Puan arttÄ±kÃ§a bÃ¼yÃ¼me
            planet.userData.currentSize = planet.userData.originalSize * (1 + (score / 5000));
            gsap.to(planet.scale, {
                x: planet.userData.currentSize,
                y: planet.userData.currentSize,
                z: planet.userData.currentSize,
                duration: 0.5
            });
        }

        // SatÄ±n alma efekti (kÃ¼Ã§Ã¼lme)
        function animatePurchase(planet) {
            gsap.to(planet.scale, {
                x: planet.userData.originalSize * 0.5,
                y: planet.userData.originalSize * 0.5,
                z: planet.userData.originalSize * 0.5,
                duration: 0.3,
                yoyo: true,
                repeat: 1
            });
        }

        // Mesaj gÃ¶sterimi
        function showMessage(text, color) {
            messageText.textContent = text;
            messageText.style.color = color;
            messagePopup.style.borderColor = color;
            messagePopup.classList.add('show');
            
            setTimeout(() => {
                messagePopup.classList.remove('show');
            }, 2000);
        }

        // MaÄŸaza iÅŸlevleri
        function buyUpgrade(type, cost) {
            if (score < cost) {
                showMessage('Yeterli puan yok!', '#FF0000');
                return;
            }
            
            score -= cost;
            buySound.currentTime = 0;
            buySound.play();
            
            switch(type) {
                case 'click':
                    clickPower++;
                    showMessage('TÄ±klama gÃ¼cÃ¼ arttÄ±!', '#00FF00');
                    animatePurchase(planets[0]);
                    break;
                case 'auto':
                    autoClicker++;
                    showMessage('Otomatik toplayÄ±cÄ± eklendi!', '#00FF00');
                    animatePurchase(planets[0]);
                    break;
                case 'planet':
                    if (unlockedPlanets < planetData.length) {
                        unlockedPlanets++;
                        // Ã–nceki gezegeni kaldÄ±r
                        if (planets.length > 0) {
                            scene.remove(planets[0]);
                            planets.pop();
                        }
                        // Yeni gezegeni ekle
                        createPlanet(planetData[unlockedPlanets - 1]);
                        showMessage(`Yeni gezegen: ${planetData[unlockedPlanets - 1].name}`, '#00FF00');
                        animatePurchase(planets[0]);
                    } else {
                        showMessage('TÃ¼m gezegenler aÃ§Ä±ldÄ±!', '#FFFF00');
                    }
                    break;
            }
            
            updateScore();
        }

        // Klavye kontrolÃ¼
        function initKeyboardControls() {
            document.addEventListener('keydown', (e) => {
                if (e.key.toLowerCase() === 'm') {
                    toggleShop();
                }
            });
        }

        // Otomatik tÄ±klayÄ±cÄ±
        function startAutoClickers() {
            setInterval(() => {
                if (gameStarted && autoClicker > 0) {
                    score += autoClicker;
                    updateScore();
                }
            }, 1000);
        }

        // TÄ±klama olaylarÄ±
        function initClickEvents() {
            const handleInteraction = (clientX, clientY) => {
                if (!gameStarted) return;
                
                const mouse = new THREE.Vector2(
                    (clientX / window.innerWidth) * 2 - 1,
                    -(clientY / window.innerHeight) * 2 + 1
                );
                
                const raycaster = new THREE.Raycaster();
                raycaster.setFromCamera(mouse, camera);
                
                const intersects = raycaster.intersectObjects(planets);
                
                if (intersects.length > 0) {
                    const planet = intersects[0].object;
                    score += clickPower * planet.userData.value;
                    clickSound.currentTime = 0;
                    clickSound.play();
                    animateClick(planet);
                    updateScore();
                }
            };

            renderer.domElement.addEventListener('click', (e) => handleInteraction(e.clientX, e.clientY));
            renderer.domElement.addEventListener('touchend', (e) => {
                e.preventDefault();
                handleInteraction(e.changedTouches[0].clientX, e.changedTouches[0].clientY);
            });
        }

        // HoÅŸgeldin ekranÄ±
        function initWelcomeScreen() {
            const startGame = () => {
                gsap.to(welcomeScreen, {
                    opacity: 0,
                    duration: 0.5,
                    onComplete: () => {
                        welcomeScreen.style.display = 'none';
                        shopElement.classList.add('hidden');
                        gameStarted = true;
                        showMessage('Oyun baÅŸladÄ±! Gezegenlere tÄ±kla! (MaÄŸaza: M tuÅŸu)', '#00FF00');
                    }
                });
            };

            document.querySelector('.start-btn').addEventListener('click', startGame);
            document.querySelector('.start-btn').addEventListener('touchend', startGame);
        }

        // MaÄŸaza aÃ§/kapa
        function toggleShop() {
            if (!gameStarted) {
                showMessage('Ã–nce oyunu baÅŸlatmalÄ±sÄ±n!', '#FF0000');
                return;
            }
            shopElement.classList.toggle('hidden');
        }

        // Animasyon dÃ¶ngÃ¼sÃ¼
        function animate() {
            requestAnimationFrame(animate);
            
            // Gezegenleri yavaÅŸÃ§a dÃ¶ndÃ¼r
            planets.forEach(planet => {
                planet.rotation.y += 0.005;
            });
            
            renderer.render(scene, camera);
        }

        // Pencere boyutu deÄŸiÅŸikliÄŸi
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        // Oyun baÅŸlatma
        window.addEventListener('resize', onWindowResize);
        createStars();
        initWelcomeScreen();
        initPlanets();
        initClickEvents();
        initKeyboardControls();
        animate();
        startAutoClickers();

        // MaÄŸaza butonlarÄ±
        openShopBtn.addEventListener('click', toggleShop);
        closeShopBtn.addEventListener('click', toggleShop);

        // Mobil iÃ§in touch eventleri
        openShopBtn.addEventListener('touchend', (e) => {
            e.preventDefault();
            toggleShop();
        });
        closeShopBtn.addEventListener('touchend', (e) => {
            e.preventDefault();
            toggleShop();
        });
    </script>
</body>
</html>