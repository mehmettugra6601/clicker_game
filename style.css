// Oyun değişkenleri
let score = 0;
let clickPower = 1;
let autoClicker = 0;
let unlockedPlanets = 1;
let gameStarted = false;
const planets = [];

// Güçlendirme fiyatları ve artışları
const upgrades = {
    click: { basePrice: 10, price: 10, increase: 1.5 },
    auto: { basePrice: 25, price: 25, increase: 1.8 },
    planet: { basePrice: 50, price: 50, increase: 1.0 }
};

// Mağaza butonlarını güncelle
function updateShopButtons() {
    document.getElementById('click-price').textContent = `${Math.floor(upgrades.click.price)} Puan`;
    document.getElementById('auto-price').textContent = `${Math.floor(upgrades.auto.price)} Puan`;
    document.getElementById('planet-price').textContent = `${Math.floor(upgrades.planet.price)} Puan`;
}

// Satın alma fonksiyonu (güncellendi)
function buyUpgrade(type) {
    const upgrade = upgrades[type];
    
    if (score < upgrade.price) {
        showMessage('Yeterli puan yok!', '#FF0000');
        return;
    }
    
    score -= upgrade.price;
    buySound.currentTime = 0;
    buySound.play();
    
    switch(type) {
        case 'click':
            clickPower++;
            upgrade.price *= upgrade.increase; // Fiyatı artır
            showMessage('Tıklama gücü arttı!', '#00FF00');
            break;
        case 'auto':
            autoClicker++;
            upgrade.price *= upgrade.increase; // Fiyatı artır
            showMessage('Otomatik toplayıcı eklendi!', '#00FF00');
            break;
        case 'planet':
            if (unlockedPlanets < planetData.length) {
                unlockedPlanets++;
                scene.remove(planets[0]);
                planets.pop();
                createPlanet(planetData[unlockedPlanets - 1]);
                showMessage(`Yeni gezegen: ${planetData[unlockedPlanets - 1].name}`, '#00FF00');
            } else {
                showMessage('Tüm gezegenler açıldı!', '#FFFF00');
            }
            break;
    }
    
    updateScore();
    updateShopButtons(); // Mağazayı güncelle
    saveGameState();
}

// Oyun başlangıcında mağazayı güncelle
updateShopButtons();